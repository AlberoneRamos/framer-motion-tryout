(this["webpackJsonproute-animations"]=this["webpackJsonproute-animations"]||[]).push([[0],{44:function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return E}));var a=n(2),r=n(21),c=n(1),i=n(6),o=n.n(i),s=n(20),u=n(0),l=n(3),f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(u.useEffect)((function(){var a=e.current,r=new IntersectionObserver((function(e){e[0].isIntersecting&&t()}),Object(l.a)({root:null,rootMargin:"0px",threshold:.9},n));return a&&r.observe(a),function(){a&&r.unobserve(a)}}),[e,t,n])},b=(n(65),n(10)),j=n(12),p=n(17),d=(n(66),function(e){var t=e.image;return Object(a.jsx)(j.a,{children:Object(a.jsx)(p.b,{to:"/image/".concat(t.id),children:Object(a.jsx)(j.b.img,{src:t.urls.small,alt:t.alt_description,className:"m-4 image flex justify-center cursor-pointer",whileHover:{scale:1.03},initial:{opacity:0},transition:{ease:"easeInOut"},animate:{opacity:1},whileTap:{scale:.97}})})})}),m=n(27),O=n(48),h=n.n(O),x=n(49),g=n.n(x).a.create({baseURL:"https://api.unsplash.com",headers:{Authorization:"Client-ID ".concat("_3vQPtdPt-S1AmVMtFqszRY4AHDAjRUUkOhsRzZ048k")},params:{orientation:"squarish",per_page:8}});var v=function(e,t){return new Map(e.map((function(e){return[e[t],e]})))},y=Object(b.b)({key:"pageState",default:1}),w=Object(b.b)({key:"totalPagesState",default:0}),k=Object(b.b)({key:"picturesState",default:new Map}),S=Object(b.c)({key:"currentPicturePageState",get:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var a,r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.get,t.prev=1,!(e.length>2)){t.next=8;break}return t.next=5,g.get("/search/photos",{params:{page:a(y),query:e}});case 5:return r=t.sent,c=r.data,t.abrupt("return",{images:v(c.results,"id"),totalPages:c.total_pages}||[]);case 8:return t.abrupt("return",{images:[],totalPages:0});case 11:throw t.prev=11,t.t0=t.catch(1),t.t0;case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}}),E=Object(b.c)({key:"imageDetailState",get:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var a,r,c,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.get,!(r=a(k).get(e))){t.next=6;break}return t.abrupt("return",r);case 6:return t.next=8,g.get("/photos/".concat(e));case 8:return c=t.sent,i=c.data,t.abrupt("return",i);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),P=function(){var e=Object(b.d)(k),t=Object(c.a)(e,2),n=t[0],i=t[1],o=Object(b.d)(y),s=Object(c.a)(o,2),l=s[0],j=s[1],p=Object(b.d)(w),O=Object(c.a)(p,2),x=O[0],g=O[1],v=Object(u.useState)("Minimal"),E=Object(c.a)(v,2),P=E[0],I=E[1],N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=Object(u.useState)(e),a=Object(c.a)(n,2),r=a[0],i=a[1];return Object(u.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r}(P,500),C=Object(b.f)(S(N)),L=Object(u.useRef)(null);Object(u.useEffect)((function(){P.length>2&&(j(1),i(new Map))}),[P,j,i]),Object(u.useEffect)((function(){"hasValue"===C.state&&(i((function(e){return new Map([].concat(Object(r.a)(e),Object(r.a)(C.contents.images)))})),g(C.contents.totalPages))}),[C,i,g]);return f(L,(function(){"loading"!==C.state&&l!==x&&j((function(e){return e+1}))})),Object(a.jsxs)("div",{className:"home flex flex-col",children:[Object(a.jsx)("div",{className:"pt-2 relative mx-auto text-gray-600 w-11/12 my-5",children:Object(a.jsx)("input",{type:"text",className:"w-full box-border py-3 px-4 focus:outline-none rounded-md shadow-md",placeholder:"Search for a term...",value:P,onChange:function(e){I(e.target.value)}})}),Object(a.jsxs)("div",{className:"pictures-container w-full flex flex-wrap flex-row align-center justify-center min-h-screen",children:[!h.a.isEmpty(n)&&Array.from(n).map((function(e){var t=Object(c.a)(e,2),n=(t[0],t[1]);return Object(a.jsx)(d,{image:n},n.id)})),"loading"===C.state&&Object(a.jsx)("div",{className:"mx-auto flex p-4 w-full justify-center",children:Object(a.jsx)(m.CubeSpinner,{})})]}),Object(a.jsx)("div",{className:"w-full flex flex-wrap flex-row justify-center h-8",ref:L})]})}},56:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),i=n(16),o=n.n(i),s=(n(56),n(17)),u=n(4),l=n(1),f=n(12);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M284.286,256.002L506.143,34.144c7.811-7.811,7.811-20.475,0-28.285c-7.811-7.81-20.475-7.811-28.285,0L256,227.717 L34.143,5.859c-7.811-7.811-20.475-7.811-28.285,0c-7.81,7.811-7.811,20.475,0,28.285l221.857,221.857L5.858,477.859 c-7.811,7.811-7.811,20.475,0,28.285c3.905,3.905,9.024,5.857,14.143,5.857c5.119,0,10.237-1.952,14.143-5.857L256,284.287 l221.857,221.857c3.905,3.905,9.024,5.857,14.143,5.857s10.237-1.952,14.143-5.857c7.811-7.811,7.811-20.475,0-28.285 L284.286,256.002z"})));function d(e,t){var n=e.title,a=e.titleId,c=j(e,["title","titleId"]);return r.createElement("svg",b({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512.001 512.001",style:{enableBackground:"new 0 0 512.001 512.001"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,p)}var m=r.forwardRef(d),O=(n.p,document.getElementById("modal-root")),h=function(e){var t=e.children,n=Object(u.e)(),c=Object(r.useState)(!0),o=Object(l.a)(c,2),s=o[0],b=o[1];return O&&Object(i.createPortal)(Object(a.jsx)(f.a,{onExitComplete:function(){return n.goBack()},children:s&&Object(a.jsxs)("div",{className:"fixed w-full h-full z-10 flex",children:[Object(a.jsx)(f.b.div,{className:"w-full h-full bg-gray-700 bg-opacity-70 absolute cursor-pointer",onClick:function(){return b(!1)},initial:{opacity:0},transition:{ease:"easeInOut",duration:.5},animate:{opacity:1},exit:{opacity:0,transition:{delay:.5}}}),Object(a.jsxs)(f.b.div,{className:"content z-20 m-auto relative",initial:{opacity:0,y:50},animate:{opacity:1,y:0,transition:{delay:.25,duration:.5}},exit:{opacity:0,y:50},transition:{ease:"easeInOut",duration:.5},children:[Object(a.jsx)(m,{className:"absolute w-5 right-0 mt-4 mr-7 cursor-pointer",onClick:function(){return b(!1)}}),t]})]})}),O)},x=n(10),g=n(27),v=n(44),y=(n(85),Object(r.lazy)((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,89))}))),w=function(){return Object(a.jsx)(x.a,{children:Object(a.jsx)(s.a,{children:Object(a.jsxs)(f.a,{exitBeforeEnter:!0,children:[Object(a.jsx)(u.a,{path:"/",component:v.a},"home"),Object(a.jsx)(u.a,{path:"/image/:imageId",children:Object(a.jsx)(h,{children:Object(a.jsx)(r.Suspense,{fallback:Object(a.jsx)("div",{className:"mx-auto flex p-4 w-full justify-center",children:Object(a.jsx)(g.CubeSpinner,{})}),children:Object(a.jsx)(y,{})})})},"modal")]})})})},k=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,90)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(w,{})}),document.getElementById("root")),k()}},[[86,1,2]]]);
//# sourceMappingURL=main.67e1c965.chunk.js.map